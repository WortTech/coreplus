// Any core javascript that needs to be in the foot of the document.
var _getParameterObject=null,_getParameters,types,i;_getParameters=function(){if(_getParameterObject!==null){return _getParameterObject}var b,c,f,e,d,a;_getParameterObject={};if(!window.location.search){return _getParameterObject}b=window.location.search.slice(1).split("&");for(c=0;c<b.length;c++){f=b[c].split("=");f[0]=decodeURIComponent(f[0]);f[1]=decodeURIComponent(f[1]);if(f[0].match(/\[.+\]/)){a=f[0].indexOf("[");e=f[0].substr(0,a);d=f[0].substr(a+1,f[0].length-a-2);if(typeof _getParameterObject[e]=="undefined"){_getParameterObject[e]={}}_getParameterObject[e][d]=f[1]}else{if(f[0].match(/\[\]/)){e=f[0].substr(0,f[0].length-2);if(typeof _getParameterObject[e]=="undefined"){_getParameterObject[e]=[]}_getParameterObject[e].push(f[1])}else{_getParameterObject[f[0]]=f[1]}}}return _getParameterObject};Core.PostURL=function(a){var c=window.document,b=c.createElement("form");window.document.body.appendChild(b);b.action=a;b.method="POST";b.submit()};Core.ConfirmEvent=function(b){var c,a;if(typeof b.dataset==="undefined"){if(b.getAttribute("data-confirm")!==null){c=b.getAttribute("data-confirm")}if(b.getAttribute("data-href")!==null){a=b.getAttribute("data-href")}}else{if(b.dataset.confirm!==undefined){c=b.dataset.confirm}if(b.dataset.href!==undefined){a=b.dataset.href}}if(typeof window.event!=="undefined"){window.event.cancelBubble=true}if(c===""||confirm(c)){Core.PostURL(a)}return false};Core.Request={get:function(a){var b=_getParameters();if(a){return(typeof b[a]!="undefined")?b[a]:null}else{return b}},set:function(a){if(typeof jQuery!="undefined"){window.location.search="?"+jQuery.param(a)}else{}}};Core.Reload=function(){window.location.reload()};if(typeof console=="undefined"){console={}}if(typeof console.log=="undefined"){console.log=function(){}}if(typeof jQuery!=="undefined"){jQuery("body").on("click","a.confirmlink",function(){var a=jQuery(this).attr("confirm"),b=jQuery(this).attr("href");if(!a){a="Are you sure?"}if(confirm(a)){Core.PostURL(b)}return false});jQuery(function(){var b,a;a=[{msgclass:"error",icon:"exclamation-circle"},{msgclass:"info",icon:"info-circle"},{msgclass:"note",icon:"asterisk"},{msgclass:"success",icon:"check-circle"},{msgclass:"tutorial",icon:"question-circle"},{msgclass:"warning",icon:"exclamation-triangle"}];for(b in a){jQuery(".message-"+a[b].msgclass).each(function(){jQuery(this).prepend('<i class="message-background-icon icon icon-'+a[b].icon+'"></i>')})}jQuery("fieldset.collapsible").each(function(){var d=jQuery(this),c;if(d.attr("id")){c=localStorage.getItem("fieldset-collapsible-"+d.attr("id"));if(c==="0"){d.addClass("collapsed").children(":not(legend,.fieldset-title)").hide()}else{if(c==="1"){d.removeClass("collapsed");return}}}if(d.hasClass("collapsed")){d.children(":not(legend,.fieldset-title)").hide()}});jQuery("fieldset.collapsible legend,fieldset.collapsible .fieldset-title").css("cursor","pointer").click(function(){var c,d;c=jQuery(this);d=c.closest("fieldset");if(!d.hasClass("debug-section")){d.toggleClass("collapsed").children(":not(legend,.fieldset-title)").toggle("fast")}else{d.toggleClass("collapsed").children(":not(legend,.fieldset-title)").toggle()}if(d.attr("id")){localStorage.setItem("fieldset-collapsible-"+d.attr("id"),(d.hasClass("collapsed")?"0":"1"))}})})};