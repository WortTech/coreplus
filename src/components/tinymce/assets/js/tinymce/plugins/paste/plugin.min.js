// Compiled inline version. (Library mode)
(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){for(var k=0;k<l.length;k++){var m=b;var o=l[k];var j=o.split(/[.\/]/);for(var n=0;n<j.length-1;++n){if(m[j[n]]===g){m[j[n]]={}}m=m[j[n]]}m[j[j.length-1]]=d[o]}}h("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/util/Tools","tinymce/util/VK"],function(i,j,l){function k(){return !i.gecko&&(("ClipboardEvent" in window)||(i.webkit&&"FocusEvent" in window))}return function(q){var o;function n(){return new Date().getTime()-o<100}function t(v,u){j.each(u,function(w){if(w.constructor==RegExp){v=v.replace(w,"")}else{v=v.replace(w[0],w[1])}});return v}function s(v){var u=q.fire("PastePreProcess",{content:v});if(q.settings.paste_remove_styles||(q.settings.paste_remove_styles_if_webkit!==false&&i.webkit)){u.content=u.content.replace(/ style=\"[^\"]+\"/g,"")}if(!u.isDefaultPrevented()){q.insertContent(u.content)}}function m(v){v=q.dom.encode(v);v=t(v,[[/\n\n/g,"</p><p>"],[/^(.*<\/p>)(<p>)$/,"<p>$1"],[/\n/g,"<br />"]]);var u=q.fire("PastePreProcess",{content:v});if(!u.isDefaultPrevented()){q.insertContent(u.content)}}function r(){var u=(q.inline?q.getBody():q.getDoc().documentElement).scrollTop;var v=q.dom.add(q.getBody(),"div",{id:"mcePasteBin",contentEditable:false,style:"position: absolute; top: "+u+"px; left: 0; background: red; width: 1px; height: 1px; overflow: hidden"},'<div contentEditable="true">X</div>');return v}function p(){var u=q.dom.get("mcePasteBin");q.dom.unbind(u);q.dom.remove(u)}q.on("keydown",function(u){if(u.shiftKey&&u.keyCode==86){o=new Date().getTime()}});if(k()){q.on("paste",function(v){var w=v.clipboardData;function u(z,y){for(var x=0;x<w.types.length;x++){if(w.types[x]==z){y(w.getData(z));return true}}}if(w){v.preventDefault();if(n()){if(!u("text/plain",m)){u("text/html",s)}}else{if(!u("text/html",s)){u("text/plain",m)}}}})}else{if(i.ie){q.on("init",function(){var u=q.dom;q.dom.bind(q.getBody(),"paste",function(y){var x;y.preventDefault();if(n()&&u.doc.dataTransfer){m(u.doc.dataTransfer.getData("Text"));return}var A=r();u.bind(A,"paste",function(B){B.stopPropagation();x=true});var z=q.selection.getRng();var v=u.doc.body.createTextRange();v.moveToElementText(A.firstChild);v.execCommand("Paste");p();if(!x){q.windowManager.alert("Clipboard access not possible.");return}var w=A.firstChild.innerHTML;q.selection.setRng(z);s(w)})})}else{q.on("init",function(){q.dom.bind(q.getBody(),"paste",function(u){u.preventDefault();q.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")})});q.on("keydown",function(u){if(l.metaKeyPressed(u)&&u.keyCode==86&&!u.isDefaultPrevented()){var w=r();var v=q.selection.getRng();q.selection.select(w,true);q.dom.bind(w,"paste",function(x){x.stopPropagation();setTimeout(function(){p();q.lastRng=v;q.selection.setRng(v);s(w.firstChild.innerHTML)},0)})}})}}if(q.paste_block_drop){q.on("dragend dragover draggesture dragdrop drop drag",function(u){u.preventDefault();u.stopPropagation()})}this.paste=s;this.pasteText=m}});h("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node"],function(k,m,l,i,j){return function(n){var o=k.each;n.on("PastePreProcess",function(v){var x=v.content,w,s;w=n.settings.paste_retain_style_properties;if(w){s=k.makeMap(w)}function q(z){o(z,function(A){if(A.constructor==RegExp){x=x.replace(A,"")}else{x=x.replace(A[0],A[1])}})}function u(D){var C,I,z=1;function J(M,L,N,P){var O=M._listLevel||z;if(O!=z){if(O<z){if(C){C=C.parent.parent}}else{I=C;C=null}}if(!C||C.name!=N){I=I||C;C=new j(N,1);if(P>1){C.attr("start",""+P)}M.wrap(C)}else{C.append(M)}M.name="li";L.value="";var K=L.next;if(K&&K.type==3){K.value=K.value.replace(/^\u00a0+/,"")}if(O>z){I.lastChild.append(C)}z=O}var H=D.getAll("p");for(var E=0;E<H.length;E++){D=H[E];if(D.name=="p"&&D.firstChild){var G="";var A=D.firstChild;while(A){G=A.value;if(G){break}A=A.firstChild}if(/^\s*[\u2022\u00b7\u00a7\u00d8o\u25CF]\s*$/.test(G)){J(D,A,"ul");continue}if(/^\s*\w+\./.test(G)){var F=/([0-9])\./.exec(G);var B=1;if(F){B=parseInt(F[1],10)}J(D,A,"ol",B);continue}C=null}}}function p(A,z){if(A.name==="p"){var B=/mso-list:\w+ \w+([0-9]+)/.exec(z);if(B){A._listLevel=parseInt(B[1],10)}}if(n.getParam("paste_retain_style_properties","none")){var C="";k.each(n.dom.parseStyle(z),function(E,D){switch(D){case"horiz-align":D="text-align";return;case"vert-align":D="vertical-align";return;case"font-color":case"mso-foreground":D="color";return;case"mso-background":case"mso-highlight":D="background";break}if(w=="all"||(s&&s[D])){C+=D+":"+E+";"}});if(C){return C}}return null}if(n.settings.paste_enable_default_filters===false){return}if(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(v.content)){v.wordContent=true;q([/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\u00a0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(A,z){return(z.length>0)?z.replace(/./," ").slice(Math.floor(z.length/2)).split("").join("\u00a0"):""}]]);var t=new l({valid_elements:"@[style],-strong/b,-em/i,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-table,-tr,-td[colspan|rowspan],-th,-thead,-tfoot,-tbody,-a[!href]"});var y=new m({},t);y.addAttributeFilter("style",function(z){var A=z.length,B;while(A--){B=z[A];B.attr("style",p(B,B.attr("style")));if(B.name=="span"&&!B.attributes.length){B.unwrap()}}});var r=y.parse(x);u(r);v.content=new i({},t).serialize(r)}})}});h("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools"],function(i,j){return function(l){var o;function n(q){l.on("PastePreProcess",function(r){r.content=q(r.content)})}function p(r,q){j.each(q,function(s){if(s.constructor==RegExp){r=r.replace(s,"")}else{r=r.replace(s[0],s[1])}});return r}function m(q){q=p(q,[/^[\s\S]*<!--StartFragment-->|<!--EndFragment-->[\s\S]*$/g,[/<span class="Apple-converted-space">\u00a0<\/span>/g,"\u00a0"],/<br>$/]);return q}function k(q){if(!o){var r=[];j.each(l.schema.getBlockElements(),function(t,s){r.push(s)});o=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+r.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g")}q=p(q,[[o,"$1"]]);q=p(q,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]);return q}if(i.webkit){n(m)}if(i.ie){n(k)}}});h("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(i,l,k,j){i.add("paste",function(n){var m=this;m.clipboard=new l(n);m.quirks=new j(n);m.wordFilter=new k(n);n.addCommand("mceInsertClipboardContent",function(p,o){if(o.content){m.clipboard.paste(o.content)}if(o.text){m.clipboard.pasteText(o.text)}})})});a(["tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks","tinymce/pasteplugin/Plugin"])})(this);