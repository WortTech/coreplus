// plugin.js
tinymce.PluginManager.add("nonbreaking",function(a){a.addCommand("mceNonBreaking",function(){a.insertContent((a.plugins.visualchars&&a.plugins.visualchars.state)?'<span data-mce-bogus="1" class="mce-nbsp">&nbsp;</span>':"&nbsp;")});a.addButton("nonbreaking",{title:"Insert nonbreaking space",cmd:"mceNonBreaking"});a.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"});if(a.getParam("nonbreaking_force_tab")){a.on("keydown",function(b){if(b.keyCode==9){b.preventDefault();a.execCommand("mceNonBreaking");a.execCommand("mceNonBreaking");a.execCommand("mceNonBreaking")}})}});