// Compiled inline version. (Library mode)
(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){for(var k=0;k<l.length;k++){var m=b;var o=l[k];var j=o.split(/[.\/]/);for(var n=0;n<j.length-1;++n){if(m[j[n]]===g){m[j[n]]={}}m=m[j[n]]}m[j[j.length-1]]=d[o]}}h("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env"],function(k,j){var l=k.each;function i(n,m){return parseInt(n.getAttribute(m)||1,10)}return function(O,L){var n,P,H,u,K=O.dom;function z(){var Q=0;n=[];l(["thead","tbody","tfoot"],function(R){var S=K.select("> "+R+" tr",L);l(S,function(T,U){U+=Q;l(K.select("> td, > th",T),function(aa,V){var W,X,Y,Z;if(n[U]){while(n[U][V]){V++}}Y=i(aa,"rowspan");Z=i(aa,"colspan");for(X=U;X<U+Y;X++){if(!n[X]){n[X]=[]}for(W=V;W<V+Z;W++){n[X][W]={part:R,real:X==U&&W==V,elm:aa,rowspan:Y,colspan:Z}}}})});Q+=S.length})}function E(R,Q){R=R.cloneNode(Q);R.removeAttribute("id");return R}function D(Q,S){var R;R=n[S];if(R){return R[Q]}}function y(S,Q,R){if(S){R=parseInt(R,10);if(R===1){S.removeAttribute(Q,1)}else{S.setAttribute(Q,R,1)}}}function p(Q){return Q&&(K.hasClass(Q.elm,"mce-item-selected")||Q==u)}function q(){var Q=[];l(L.rows,function(R){l(R.cells,function(S){if(K.hasClass(S,"mce-item-selected")||S==u.elm){Q.push(R);return false}})});return Q}function x(){var Q=K.createRng();Q.setStartAfter(L);Q.setEndAfter(L);O.setRng(Q);K.remove(L)}function m(Q){var R;k.walk(Q,function(T){var S;if(T.nodeType==3){l(K.getParents(T.parentNode,null,Q).reverse(),function(U){U=E(U,false);if(!R){R=S=U}else{if(S){S.appendChild(U)}}S=U});if(S){S.innerHTML=j.ie?"&nbsp;":'<br data-mce-bogus="1" />'}return false}},"childNodes");Q=E(Q,false);y(Q,"rowSpan",1);y(Q,"colSpan",1);if(R){Q.appendChild(R)}else{if(!j.ie){Q.innerHTML='<br data-mce-bogus="1" />'}}return Q}function w(){var Q=K.createRng(),R;l(K.select("tr",L),function(S){if(S.cells.length===0){K.remove(S)}});if(K.select("tr",L).length===0){Q.setStartAfter(L);Q.setEndAfter(L);O.setRng(Q);K.remove(L);return}l(K.select("thead,tbody,tfoot",L),function(S){if(S.rows.length===0){K.remove(S)}});z();R=n[Math.min(n.length-1,P.y)];if(R){O.select(R[Math.min(R.length-1,P.x)].elm,true);O.collapse(true)}}function A(W,U,Y,V){var T,R,Q,S,X;T=n[U][W].elm.parentNode;for(Q=1;Q<=Y;Q++){T=K.getNext(T,"tr");if(T){for(R=W;R>=0;R--){X=n[U+Q][R].elm;if(X.parentNode==T){for(S=1;S<=V;S++){K.insertAfter(m(X),X)}break}}if(R==-1){for(S=1;S<=V;S++){T.insertBefore(m(T.cells[0]),T.cells[0])}}}}}function G(){l(n,function(Q,R){l(Q,function(T,S){var W,V,U;if(p(T)){T=T.elm;W=i(T,"colspan");V=i(T,"rowspan");if(W>1||V>1){y(T,"rowSpan",1);y(T,"colSpan",1);for(U=0;U<W-1;U++){K.insertAfter(m(T),T)}A(S,R,V-1,W)}}})})}function v(aa,X,ad){var W,T,S,ac,ab,Z,V,Y,Q,R,U;if(aa){W=J(aa);T=W.x;S=W.y;ac=T+(X-1);ab=S+(ad-1)}else{P=H=null;l(n,function(ae,af){l(ae,function(ah,ag){if(p(ah)){if(!P){P={x:ag,y:af}}H={x:ag,y:af}}})});T=P.x;S=P.y;ac=H.x;ab=H.y}Y=D(T,S);Q=D(ac,ab);if(Y&&Q&&Y.part==Q.part){G();z();Y=D(T,S).elm;y(Y,"colSpan",(ac-T)+1);y(Y,"rowSpan",(ab-S)+1);for(V=S;V<=ab;V++){for(Z=T;Z<=ac;Z++){if(!n[V]||!n[V][Z]){continue}aa=n[V][Z].elm;if(aa!=Y){R=k.grep(aa.childNodes);l(R,function(ae){Y.appendChild(ae)});if(R.length){R=k.grep(Y.childNodes);U=0;l(R,function(ae){if(ae.nodeName=="BR"&&K.getAttrib(ae,"data-mce-bogus")&&U++<R.length-1){Y.removeChild(ae)}})}K.remove(aa)}}}w()}}function r(U){var Q,W,T,V,X,Y,R,Z,S;l(n,function(aa,ab){l(aa,function(ac){if(p(ac)){ac=ac.elm;X=ac.parentNode;Y=E(X,false);Q=ab;if(U){return false}}});if(U){return !Q}});for(V=0;V<n[0].length;V++){if(!n[Q][V]){continue}W=n[Q][V].elm;if(W!=T){if(!U){S=i(W,"rowspan");if(S>1){y(W,"rowSpan",S+1);continue}}else{if(Q>0&&n[Q-1][V]){Z=n[Q-1][V].elm;S=i(Z,"rowSpan");if(S>1){y(Z,"rowSpan",S+1);continue}}}R=m(W);y(R,"colSpan",W.colSpan);Y.appendChild(R);T=W}}if(Y.hasChildNodes()){if(!U){K.insertAfter(Y,X)}else{X.parentNode.insertBefore(Y,X)}}}function o(R){var S,Q;l(n,function(T){l(T,function(V,U){if(p(V)){S=U;if(R){return false}}});if(R){return !S}});l(n,function(W,X){var T,U,V;if(!W[S]){return}T=W[S].elm;if(T!=Q){V=i(T,"colspan");U=i(T,"rowspan");if(V==1){if(!R){K.insertAfter(m(T),T);A(S,X,U-1,V)}else{T.parentNode.insertBefore(m(T),T);A(S,X,U-1,V)}}else{y(T,"colSpan",T.colSpan+1)}Q=T}})}function t(){var Q=[];l(n,function(R){l(R,function(T,S){if(p(T)&&k.inArray(Q,S)===-1){l(n,function(W){var U=W[S].elm,V;V=i(U,"colSpan");if(V>1){y(U,"colSpan",V-1)}else{K.remove(U)}});Q.push(S)}})});w()}function s(){var R;function Q(U){var T,V,S;T=K.getNext(U,"tr");l(U.cells,function(W){var X=i(W,"rowSpan");if(X>1){y(W,"rowSpan",X-1);V=J(W);A(V.x,V.y,1,1)}});V=J(U.cells[0]);l(n[V.y],function(W){var X;W=W.elm;if(W!=S){X=i(W,"rowSpan");if(X<=1){K.remove(W)}else{y(W,"rowSpan",X-1)}S=W}})}R=q();l(R.reverse(),function(S){Q(S)});w()}function I(){var Q=q();K.remove(Q);w();return Q}function N(){var Q=q();l(Q,function(S,R){Q[R]=E(S,true)});return Q}function F(S,R){var T=q(),Q=T[R?0:T.length-1],U=Q.cells.length;if(!S){return}l(n,function(W){var V;U=0;l(W,function(X){if(X.real){U+=X.colspan}if(X.elm.parentNode==Q){V=1}});if(V){return false}});if(!R){S.reverse()}l(S,function(Y){var W,X=Y.cells.length,V;for(W=0;W<X;W++){V=Y.cells[W];y(V,"colSpan",1);y(V,"rowSpan",1)}for(W=X;W<U;W++){Y.appendChild(m(Y.cells[X-1]))}for(W=U;W<X;W++){K.remove(Y.cells[W])}if(R){Q.parentNode.insertBefore(Y,Q)}else{K.insertAfter(Y,Q)}});K.removeClass(K.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected")}function J(Q){var R;l(n,function(S,T){l(S,function(V,U){if(V.elm==Q){R={x:U,y:T};return false}});return !R});return R}function C(Q){P=J(Q)}function M(){var R,Q;R=Q=0;l(n,function(S,T){l(S,function(V,U){var X,W;if(p(V)){V=n[T][U];if(U>R){R=U}if(T>Q){Q=T}if(V.real){X=V.colspan-1;W=V.rowspan-1;if(X){if(U+X>R){R=U+X}}if(W){if(T+W>Q){Q=T+W}}}}})});return{x:R,y:Q}}function B(Y){var T,S,aa,Z,R,Q,U,V,X,W;H=J(Y);if(P&&H){T=Math.min(P.x,H.x);S=Math.min(P.y,H.y);aa=Math.max(P.x,H.x);Z=Math.max(P.y,H.y);R=aa;Q=Z;for(W=S;W<=Q;W++){Y=n[W][T];if(!Y.real){if(T-(Y.colspan-1)<T){T-=Y.colspan-1}}}for(X=T;X<=R;X++){Y=n[S][X];if(!Y.real){if(S-(Y.rowspan-1)<S){S-=Y.rowspan-1}}}for(W=S;W<=Z;W++){for(X=T;X<=aa;X++){Y=n[W][X];if(Y.real){U=Y.colspan-1;V=Y.rowspan-1;if(U){if(X+U>R){R=X+U}}if(V){if(W+V>Q){Q=W+V}}}}}K.removeClass(K.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected");for(W=S;W<=Q;W++){for(X=T;X<=R;X++){if(n[W][X]){K.addClass(n[W][X].elm,"mce-item-selected")}}}}}L=L||K.getParent(O.getStart(),"table");z();u=K.getParent(O.getStart(),"th,td");if(u){P=J(u);H=M();u=D(P.x,P.y)}k.extend(this,{deleteTable:x,split:G,merge:v,insertRow:r,insertCol:o,deleteCols:t,deleteRows:s,cutRows:I,copyRows:N,pasteRows:F,getPos:J,setStartCell:C,setEndCell:B})}});h("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools"],function(m,j,k){var l=k.each;function i(o,n){return parseInt(o.getAttribute(n)||1,10)}return function(q){function r(){function s(B){var H=B.keyCode;function z(Q,M){var L=Q?"previousSibling":"nextSibling";var R=q.dom.getParent(M,"tr");var P=R[L];if(P){D(q,M,P,Q);B.preventDefault();return true}else{var S=q.dom.getParent(R,"table");var O=R.parentNode;var K=O.nodeName.toLowerCase();if(K==="tbody"||K===(Q?"tfoot":"thead")){var N=u(Q,S,O,"tbody");if(N!==null){return w(Q,N,M)}}return G(Q,R,L,S)}}function u(O,M,N,Q){var L=q.dom.select(">"+Q,M);var K=L.indexOf(N);if(O&&K===0||!O&&K===L.length-1){return x(O,M)}else{if(K===-1){var P=N.tagName.toLowerCase()==="thead"?0:L.length-1;return L[P]}else{return L[K+(O?-1:1)]}}}function x(N,M){var L=N?"thead":"tfoot";var K=q.dom.select(">"+L,M);return K.length!==0?K[0]:null}function w(N,M,L){var K=t(M,N);if(K){D(q,L,K,N)}B.preventDefault();return true}function G(Q,N,K,P){var L=P[K];if(L){F(L);return true}else{var O=q.dom.getParent(P,"td,th");if(O){return z(Q,O,B)}else{var M=t(N,!Q);F(M);B.preventDefault();return false}}}function t(L,K){var M=L&&L[K?"lastChild":"firstChild"];return M&&M.nodeName==="BR"?q.dom.getParent(M,"td,th"):M}function F(K){q.selection.setCursorLocation(K,0)}function C(){return H==m.UP||H==m.DOWN}function E(L){var M=L.selection.getNode();var K=L.dom.getParent(M,"tr");return K!==null}function A(L){var K=0;var M=L;while(M.previousSibling){M=M.previousSibling;K=K+i(M,"colspan")}return K}function v(M,K){var N=0,L=0;l(M.children,function(O,P){N=N+i(O,"colspan");L=P;if(N>K){return false}});return L}function D(M,P,R,O){var Q=A(q.dom.getParent(P,"td,th"));var L=v(R,Q);var K=R.childNodes[L];var N=t(K,O);F(N||K)}function J(K){var M=q.selection.getNode();var N=q.dom.getParent(M,"td,th");var L=q.dom.getParent(K,"td,th");return N&&N!==L&&y(N,L)}function y(L,K){return q.dom.getParent(L,"TABLE")===q.dom.getParent(K,"TABLE")}if(C()&&E(q)){var I=q.selection.getNode();setTimeout(function(){if(J(I)){z(!B.shiftKey&&H===m.UP,I,B)}},0)}}q.on("KeyDown",function(t){s(t)})}function n(){function s(u,v){var w=v.ownerDocument,t=w.createRange(),x;t.setStartBefore(v);t.setEnd(u.endContainer,u.endOffset);x=w.createElement("body");x.appendChild(t.cloneContents());return x.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length===0}q.on("KeyDown",function(v){var t,u,w=q.dom;if(v.keyCode==37||v.keyCode==38){t=q.selection.getRng();u=w.getParent(t.startContainer,"table");if(u&&q.getBody().firstChild==u){if(s(t,u)){t=w.createRng();t.setStartBefore(u);t.setEndBefore(u);q.selection.setRng(t);v.preventDefault()}}}})}function p(){q.on("KeyDown SetContent VisualAid",function(){var s;for(s=q.getBody().lastChild;s;s=s.previousSibling){if(s.nodeType==3){if(s.nodeValue.length>0){break}}else{if(s.nodeType==1&&!s.getAttribute("data-mce-bogus")){break}}}if(s&&s.nodeName=="TABLE"){if(q.settings.forced_root_block){q.dom.add(q.getBody(),q.settings.forced_root_block,null,j.ie?"&nbsp;":'<br data-mce-bogus="1" />')}else{q.dom.add(q.getBody(),"br",{"data-mce-bogus":"1"})}}});q.on("PreProcess",function(t){var s=t.node.lastChild;if(s&&(s.nodeName=="BR"||(s.childNodes.length==1&&(s.firstChild.nodeName=="BR"||s.firstChild.nodeValue=="\u00a0")))&&s.previousSibling&&s.previousSibling.nodeName=="TABLE"){q.dom.remove(s)}})}function o(){function s(z,v,w,B){var x=3,C=z.dom.getParent(v.startContainer,"TABLE");var y,u,A;if(C){y=C.parentNode}u=v.startContainer.nodeType==x&&v.startOffset===0&&v.endOffset===0&&B&&(w.nodeName=="TR"||w==y);A=(w.nodeName=="TD"||w.nodeName=="TH")&&!B;return u||A}function t(){var v=q.selection.getRng();var x=q.selection.getNode();var w=q.dom.getParent(v.startContainer,"TD,TH");if(!s(q,v,x,w)){return}if(!w){w=x}var u=w.lastChild;while(u.lastChild){u=u.lastChild}v.setEnd(u,u.nodeValue.length);q.selection.setRng(v)}q.on("KeyDown",function(){t()});q.on("MouseDown",function(u){if(u.button!=2){t()}})}if(j.webkit){r();o()}if(j.gecko){n();p()}}});h("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(j,k,i){return function(p){var r=p.dom,n,q,m,o=true;function l(){p.getBody().style.webkitUserSelect="";if(o){p.dom.removeClass(p.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected");o=false}}p.on("MouseDown",function(s){if(s.button!=2){l();q=r.getParent(s.target,"td,th");m=r.getParent(q,"table")}});r.bind(p.getDoc(),"mouseover",function(w){var u,t,v=w.target;if(q&&(n||v!=q)&&(v.nodeName=="TD"||v.nodeName=="TH")){t=r.getParent(v,"table");if(t==m){if(!n){n=new j(p.selection,t);n.setStartCell(q);p.getBody().style.webkitUserSelect="none"}n.setEndCell(v);o=true}u=p.selection.getSel();try{if(u.removeAllRanges){u.removeAllRanges()}else{u.empty()}}catch(s){}w.preventDefault()}});p.on("MouseUp",function(){var u,y=p.selection,t,z,x,w,s;function v(A,C){var B=new k(A,A);do{if(A.nodeType==3&&i.trim(A.nodeValue).length!==0){if(C){u.setStart(A,0)}else{u.setEnd(A,A.nodeValue.length)}return}if(A.nodeName=="BR"){if(C){u.setStartBefore(A)}else{u.setEndBefore(A)}return}}while((A=(C?B.next():B.prev())))}if(q){if(n){p.getBody().style.webkitUserSelect=""}t=r.select("td.mce-item-selected,th.mce-item-selected");if(t.length>0){u=r.createRng();x=t[0];s=t[t.length-1];u.setStartBefore(x);u.setEndAfter(x);v(x,1);z=new k(x,r.getParent(t[0],"table"));do{if(x.nodeName=="TD"||x.nodeName=="TH"){if(!r.hasClass(x,"mce-item-selected")){break}w=x}}while((x=z.next()));v(w);y.setRng(u)}p.nodeChanged();q=n=m=null}});p.on("KeyUp",function(){l()});return{clear:l}}});h("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(p,o,q,i,n,k,j){var m=i.each;function l(A){var E,C,H=this;function v(I){return I?I.replace(/px$/,""):""}function F(I){if(/^[0-9]+$/.test(I)){I+="px"}return I}function G(){var K=A.dom,I,J;I=A.dom.getParent(A.selection.getStart(),"table");J={width:v(K.getStyle(I,"width")||K.getAttrib(I,"width")),height:v(K.getStyle(I,"height")||K.getAttrib(I,"height")),cellspacing:K.getAttrib(I,"cellspacing"),cellpadding:K.getAttrib(I,"cellpadding"),border:K.getAttrib(I,"border"),caption:!!K.select("caption",I)[0]};m("left center right".split(" "),function(L){if(A.formatter.matchNode(I,"align"+L)){J.align=L}});A.windowManager.open({title:"Table properties",items:{type:"form",layout:"grid",columns:2,data:J,defaults:{type:"textbox",maxWidth:50},items:[{label:"Cols",name:"cols",disabled:true},{label:"Rows",name:"rows",disabled:true},{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"},{label:"Alignment",minWidth:90,name:"align",type:"listbox",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]},onsubmit:function(){var M=this.toJSON(),L;A.undoManager.transact(function(){A.dom.setAttribs(I,{cellspacing:M.cellspacing,cellpadding:M.cellpadding,border:M.border});A.dom.setStyles(I,{width:F(M.width),height:F(M.height)});L=K.select("caption",I)[0];if(L&&!M.caption){K.remove(L)}if(!L&&M.caption){L=K.create("caption");if(!k.ie){L.innerHTML='<br data-mce-bogus="1"/>'}I.insertBefore(L,I.firstChild)}if(M.align){A.formatter.apply("align"+M.align,{},I)}else{m("left center right".split(" "),function(N){A.formatter.remove("align"+N,{},I)})}A.focus();A.addVisual()})}})}function u(J,I){A.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",size:10},{label:"Rows",name:"rows",type:"textbox",size:10}],onsubmit:function(){var K=this.toJSON();A.undoManager.transact(function(){J.merge(I,K.cols,K.rows)})}})}function y(){var L=A.dom,J,K,I=[];I=A.dom.select("td.mce-item-selected,th.mce-item-selected");J=A.dom.getParent(A.selection.getStart(),"td,th");if(!I.length&&J){I.push(J)}J=J||I[0];K={width:v(L.getStyle(J,"width")||L.getAttrib(J,"width")),height:v(L.getStyle(J,"height")||L.getAttrib(J,"height")),scope:L.getAttrib(J,"scope")};K.type=J.nodeName.toLowerCase();m("left center right".split(" "),function(M){if(A.formatter.matchNode(J,"align"+M)){K.align=M}});A.windowManager.open({title:"Cell properties",items:{type:"form",data:K,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,menu:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,menu:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]},onsubmit:function(){var M=this.toJSON();A.undoManager.transact(function(){m(I,function(N){A.dom.setAttrib(N,"scope",M.scope);A.dom.setStyles(N,{width:F(M.width),height:F(M.height)});if(M.type&&N.nodeName.toLowerCase()!=M.type){N=L.rename(N,M.type)}if(M.align){A.formatter.apply("align"+M.align,{},N)}else{m("left center right".split(" "),function(O){A.formatter.remove("align"+O,{},N)})}});A.focus()})}})}function B(){var N=A.dom,I,K,J,M,L=[];I=A.dom.getParent(A.selection.getStart(),"table");K=A.dom.getParent(A.selection.getStart(),"td,th");m(I.rows,function(O){m(O.cells,function(P){if(N.hasClass(P,"mce-item-selected")||P==K){L.push(O);return false}})});J=L[0];M={height:v(N.getStyle(J,"height")||N.getAttrib(J,"height")),scope:N.getAttrib(J,"scope")};M.type=J.parentNode.nodeName.toLowerCase();m("left center right".split(" "),function(O){if(A.formatter.matchNode(J,"align"+O)){M.align=O}});A.windowManager.open({title:"Row properties",items:{type:"form",data:M,columns:2,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,menu:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,menu:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"}]},onsubmit:function(){var Q=this.toJSON(),O,P,R;A.undoManager.transact(function(){m(L,function(S){A.dom.setAttrib(S,"scope",Q.scope);A.dom.setStyles(S,{height:F(Q.height)});if(Q.type!=S.parentNode.nodeName.toLowerCase()){O=N.getParent(S,"table");P=S.parentNode;R=N.select(O,Q.type)[0];if(!R){R=N.create(Q.type);if(O.firstChild){O.insertBefore(R,O.firstChild)}else{O.appendChild(R)}}R.insertBefore(S,R.firstChild);if(!P.hasChildNodes()){N.remove(P)}}if(Q.align){A.formatter.apply("align"+Q.align,{},S)}else{m("left center right".split(" "),function(T){A.formatter.remove("align"+T,{},S)})}});A.focus()})}})}function t(I){return function(){A.execCommand(I)}}function w(L,K){var M,I,J;J="<table><tbody>";for(M=0;M<K;M++){J+="<tr>";for(I=0;I<L;I++){J+="<td>"+(k.ie?" ":"<br>")+"</td>"}J+="</tr>"}J+="</tbody></table>";A.insertContent(J)}function s(J,I){function K(){J.disabled(!A.dom.getParent(A.selection.getStart(),I));A.selection.selectorChanged(I,function(L){J.disabled(!L)})}if(A.initialized){K()}else{A.on("init",K)}}function z(){s(this,"table")}function x(){s(this,"td,th")}function D(){var J="";J='<table role="presentation" class="mce-grid mce-grid-border">';for(var K=0;K<10;K++){J+="<tr>";for(var I=0;I<10;I++){J+='<td><a href="#" data-mce-index="'+I+","+K+'"></a></td>'}J+="</tr>"}J+="</table>";J+='<div class="mce-text-center">0 x 0</div>';return J}A.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onhide:function(){A.dom.removeClass(this.menu.items()[0].getEl().getElementsByTagName("a"),"mce-active")},menu:[{type:"container",html:D(),onmousemove:function(L){var K=L.target;if(K.nodeName=="A"){var J=A.dom.getParent(K,"table");var N=K.getAttribute("data-mce-index");if(N!=this.lastPos){N=N.split(",");N[0]=parseInt(N[0],10);N[1]=parseInt(N[1],10);for(var M=0;M<10;M++){for(var I=0;I<10;I++){A.dom.toggleClass(J.rows[M].childNodes[I].firstChild,"mce-active",I<=N[0]&&M<=N[1])}}J.nextSibling.innerHTML=(N[0]+1)+" x "+(N[1]+1);this.lastPos=N}}},onclick:function(I){if(I.target.nodeName=="A"&&this.lastPos){I.preventDefault();w(this.lastPos[0]+1,this.lastPos[1]+1);this.parent().cancel()}}}]});A.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:z,onclick:G});A.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:z,cmd:"mceTableDelete"});A.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:t("mceTableCellProps"),onPostRender:x},{text:"Merge cells",onclick:t("mceTableMergeCells"),onPostRender:x},{text:"Split cell",onclick:t("mceTableSplitCells"),onPostRender:x}]});A.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:t("mceTableInsertRowBefore"),onPostRender:x},{text:"Insert row after",onclick:t("mceTableInsertRowAfter"),onPostRender:x},{text:"Delete row",onclick:t("mceTableDeleteRow"),onPostRender:x},{text:"Row properties",onclick:t("mceTableRowProps"),onPostRender:x},{text:"-"},{text:"Cut row",onclick:t("mceTableCutRow"),onPostRender:x},{text:"Copy row",onclick:t("mceTableCopyRow"),onPostRender:x},{text:"Paste row before",onclick:t("mceTablePasteRowBefore"),onPostRender:x},{text:"Paste row after",onclick:t("mceTablePasteRowAfter"),onPostRender:x}]});A.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:t("mceTableInsertColBefore"),onPostRender:x},{text:"Insert column after",onclick:t("mceTableInsertColAfter"),onPostRender:x},{text:"Delete column",onclick:t("mceTableDeleteCol"),onPostRender:x}]});var r=[];m("inserttable tableprops deletetable | cell row column".split(" "),function(I){if(I=="|"){r.push({text:"-"})}else{r.push(A.menuItems[I])}});A.addButton("table",{type:"menubutton",title:"Table",menu:r});if(!k.isIE){A.on("click",function(I){I=I.target;if(I.nodeName==="TABLE"){A.selection.select(I);A.nodeChanged()}})}H.quirks=new o(A);A.on("Init",function(){E=A.windowManager;H.cellSelection=new q(A)});m({mceTableSplitCells:function(I){I.split()},mceTableMergeCells:function(J){var K,L,I;I=A.dom.getParent(A.selection.getStart(),"th,td");if(I){K=I.rowSpan;L=I.colSpan}if(!A.dom.select("td.mce-item-selected,th.mce-item-selected").length){u(J,I)}else{J.merge()}},mceTableInsertRowBefore:function(I){I.insertRow(true)},mceTableInsertRowAfter:function(I){I.insertRow()},mceTableInsertColBefore:function(I){I.insertCol(true)},mceTableInsertColAfter:function(I){I.insertCol()},mceTableDeleteCol:function(I){I.deleteCols()},mceTableDeleteRow:function(I){I.deleteRows()},mceTableCutRow:function(I){C=I.cutRows()},mceTableCopyRow:function(I){C=I.copyRows()},mceTablePasteRowBefore:function(I){I.pasteRows(C,true)},mceTablePasteRowAfter:function(I){I.pasteRows(C)},mceTableDelete:function(I){I.deleteTable()}},function(J,I){A.addCommand(I,function(){var K=new p(A.selection);if(K){J(K);A.execCommand("mceRepaint");H.cellSelection.clear()}})});m({mceInsertTable:function(){G()},mceTableRowProps:B,mceTableCellProps:y},function(J,I){A.addCommand(I,function(K,L){J(L)})})}j.add("table",l)});a(["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Plugin"])})(this);