// plugin.js
tinymce.PluginManager.add("contextmenu",function(a){var b;a.on("contextmenu",function(g){var f;g.preventDefault();f=a.settings.contextmenu||"link image inserttable | cell row column deletetable";if(!b){var c=[];tinymce.each(f.split(/[ ,]/),function(e){var i=a.menuItems[e];if(e=="|"){i={text:e}}if(i){i.shortcut="";c.push(i)}});for(var d=0;d<c.length;d++){if(c[d].text=="|"){if(d===0||d==c.length-1){c.splice(d,1)}}}b=new tinymce.ui.Menu({items:c,context:"contextmenu"});b.renderTo(document.body)}else{b.show()}var h=tinymce.DOM.getPos(a.getContentAreaContainer());h.x+=g.clientX;h.y+=g.clientY;b.moveTo(h.x,h.y);a.on("remove",function(){b.remove();b=null})})});