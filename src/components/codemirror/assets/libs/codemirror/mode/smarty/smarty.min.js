CodeMirror.defineMode("smarty",function(b){var g=["debug","extends","function","include","literal"];var j;var c={operatorChars:/[+\-*&%=<>!?]/,validIdentifier:/[a-zA-Z0-9\_]/,stringChar:/[\'\"]/};var d=(typeof b.mode.leftDelimiter!="undefined")?b.mode.leftDelimiter:"{";var i=(typeof b.mode.rightDelimiter!="undefined")?b.mode.rightDelimiter:"}";function f(m,l){j=l;return m}function k(n,m){function l(o){m.tokenize=o;return o(n,m)}if(n.match(d,true)){if(n.eat("*")){return l(h("comment","*"+i))}else{m.tokenize=e;return"tag"}}else{n.next();return null}}function e(q,o){if(q.match(i,true)){o.tokenize=k;return f("tag",null)}var n=q.next();if(n=="$"){q.eatWhile(c.validIdentifier);return f("variable-2","variable")}else{if(n=="."){return f("operator","property")}else{if(c.stringChar.test(n)){o.tokenize=a(n);return f("string","string")}else{if(c.operatorChars.test(n)){q.eatWhile(c.operatorChars);return f("operator","operator")}else{if(n=="["||n=="]"){return f("bracket","bracket")}else{if(/\d/.test(n)){q.eatWhile(/\d/);return f("number","number")}else{if(o.last=="variable"){if(n=="@"){q.eatWhile(c.validIdentifier);return f("property","property")}else{if(n=="|"){q.eatWhile(c.validIdentifier);return f("qualifier","modifier")}}}else{if(o.last=="whitespace"){q.eatWhile(c.validIdentifier);return f("attribute","modifier")}else{if(o.last=="property"){q.eatWhile(c.validIdentifier);return f("property",null)}else{if(/\s/.test(n)){j="whitespace";return null}}}}var p="";if(n!="/"){p+=n}var r="";while((r=q.eat(c.validIdentifier))){p+=r}var m,l;for(m=0,l=g.length;m<l;m++){if(g[m]==p){return f("keyword","keyword")}}if(/\s/.test(n)){return null}return f("tag","tag")}}}}}}}function a(l){return function(n,m){while(!n.eol()){if(n.next()==l){m.tokenize=e;break}}return"string"}}function h(m,l){return function(o,n){while(!o.eol()){if(o.match(l)){n.tokenize=k;break}o.next()}return m}}return{startState:function(){return{tokenize:k,mode:"smarty",last:null}},token:function(n,m){var l=m.tokenize(n,m);m.last=j;return l},electricChars:""}});CodeMirror.defineMIME("text/x-smarty","smarty");