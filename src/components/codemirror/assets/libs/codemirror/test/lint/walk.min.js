(function(b){b.simple=function(f,e,h,g){if(!h){h=b}function i(m,j,k){var l=k||m.type,n=e[l];if(n){n(m,j)}h[l](m,j,i)}i(f,g)};b.recursive=function(f,i,e,h){var g=b.make(e,h);function j(m,k,l){g[l||m.type](m,k,j)}j(f,i)};b.make=function(e,h){if(!h){h=b}var g={};for(var f in h){g[f]=e.hasOwnProperty(f)?e[f]:h[f]}return g};function a(f,e,g){g(f,e)}function d(f,e,g){}b.Program=b.BlockStatement=function(g,e,h){for(var f=0;f<g.body.length;++f){h(g.body[f],e,"Statement")}};b.Statement=a;b.EmptyStatement=d;b.ExpressionStatement=function(f,e,g){g(f.expression,e,"Expression")};b.IfStatement=function(f,e,g){g(f.test,e,"Expression");g(f.consequent,e,"Statement");if(f.alternate){g(f.alternate,e,"Statement")}};b.LabeledStatement=function(f,e,g){g(f.body,e,"Statement")};b.BreakStatement=b.ContinueStatement=d;b.WithStatement=function(f,e,g){g(f.object,e,"Expression");g(f.body,e,"Statement")};b.SwitchStatement=function(k,f,l){l(k.discriminant,f,"Expression");for(var g=0;g<k.cases.length;++g){var h=k.cases[g];if(h.test){l(h.test,f,"Expression")}for(var e=0;e<h.consequent.length;++e){l(h.consequent[e],f,"Statement")}}};b.ReturnStatement=function(f,e,g){if(f.argument){g(f.argument,e,"Expression")}};b.ThrowStatement=function(f,e,g){g(f.argument,e,"Expression")};b.TryStatement=function(g,e,h){h(g.block,e,"Statement");for(var f=0;f<g.handlers.length;++f){h(g.handlers[f].body,e,"ScopeBody")}if(g.finalizer){h(g.finalizer,e,"Statement")}};b.WhileStatement=function(f,e,g){g(f.test,e,"Expression");g(f.body,e,"Statement")};b.DoWhileStatement=b.WhileStatement;b.ForStatement=function(f,e,g){if(f.init){g(f.init,e,"ForInit")}if(f.test){g(f.test,e,"Expression")}if(f.update){g(f.update,e,"Expression")}g(f.body,e,"Statement")};b.ForInStatement=function(f,e,g){g(f.left,e,"ForInit");g(f.right,e,"Expression");g(f.body,e,"Statement")};b.ForInit=function(f,e,g){if(f.type=="VariableDeclaration"){g(f,e)}else{g(f,e,"Expression")}};b.DebuggerStatement=d;b.FunctionDeclaration=function(f,e,g){g(f,e,"Function")};b.VariableDeclaration=function(h,f,j){for(var g=0;g<h.declarations.length;++g){var e=h.declarations[g];if(e.init){j(e.init,f,"Expression")}}};b.Function=function(f,e,g){g(f.body,e,"ScopeBody")};b.ScopeBody=function(f,e,g){g(f,e,"Statement")};b.Expression=a;b.ThisExpression=d;b.ArrayExpression=function(h,f,j){for(var g=0;g<h.elements.length;++g){var e=h.elements[g];if(e){j(e,f,"Expression")}}};b.ObjectExpression=function(g,e,h){for(var f=0;f<g.properties.length;++f){h(g.properties[f].value,e,"Expression")}};b.FunctionExpression=b.FunctionDeclaration;b.SequenceExpression=function(g,e,h){for(var f=0;f<g.expressions.length;++f){h(g.expressions[f],e,"Expression")}};b.UnaryExpression=b.UpdateExpression=function(f,e,g){g(f.argument,e,"Expression")};b.BinaryExpression=b.AssignmentExpression=b.LogicalExpression=function(f,e,g){g(f.left,e,"Expression");g(f.right,e,"Expression")};b.ConditionalExpression=function(f,e,g){g(f.test,e,"Expression");g(f.consequent,e,"Expression");g(f.alternate,e,"Expression")};b.NewExpression=b.CallExpression=function(g,e,h){h(g.callee,e,"Expression");if(g.arguments){for(var f=0;f<g.arguments.length;++f){h(g.arguments[f],e,"Expression")}}};b.MemberExpression=function(f,e,g){g(f.object,e,"Expression");if(f.computed){g(f.property,e,"Expression")}};b.Identifier=b.Literal=d;function c(e){return{vars:Object.create(null),prev:e}}b.scopeVisitor=b.make({Function:function(j,h,k){var f=c(h);for(var g=0;g<j.params.length;++g){f.vars[j.params[g].name]={type:"argument",node:j.params[g]}}if(j.id){var e=j.type=="FunctionDeclaration";(e?h:f).vars[j.id.name]={type:e?"function":"function name",node:j.id}}k(j.body,f,"ScopeBody")},TryStatement:function(j,h,k){k(j.block,h,"Statement");for(var f=0;f<j.handlers.length;++f){var g=j.handlers[f],e=c(h);e.vars[g.param.name]={type:"catch clause",node:g.param};k(g.body,e,"ScopeBody")}if(j.finalizer){k(j.finalizer,h,"Statement")}},VariableDeclaration:function(h,g,j){for(var f=0;f<h.declarations.length;++f){var e=h.declarations[f];g.vars[e.id.name]={type:"var",node:e.id};if(e.init){j(e.init,g,"Expression")}}}})})(typeof exports=="undefined"?acorn.walk={}:exports);